datasource db {
  provider = "postgresql"
  url      = env("DB_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Event {
  createdAt   DateTime  @default(now())
  description String?
  endDate     DateTime?
  id          String    @id @default(cuid())
  name        String?
  parentEvent String?
  sponsors    Sponsor[]
  startDate   DateTime?
  updatedAt   DateTime  @updatedAt
}

model Sponsor {
  contactInfo String?
  createdAt   DateTime @default(now())
  event       Event?   @relation(fields: [eventId], references: [id])
  eventId     String?
  id          String   @id @default(cuid())
  name        String?
  updatedAt   DateTime @updatedAt
}

model VolunteerProfile {
  createdAt         DateTime @default(now())
  eventsVolunteered String?
  id                String   @id @default(cuid())
  updatedAt         DateTime @updatedAt
  user              User?    @relation(fields: [userId], references: [id])
  userId            String?
}

model ParticipantProfile {
  certifications     String?
  createdAt          DateTime @default(now())
  eventsParticipated String?
  id                 String   @id @default(cuid())
  updatedAt          DateTime @updatedAt
  user               User?    @relation(fields: [userId], references: [id])
  userId             String?
}

model User {
  createdAt           DateTime             @default(now())
  email               String?              @unique
  firstName           String?
  id                  String               @id @default(cuid())
  lastName            String?
  participantProfiles ParticipantProfile[]
  password            String
  roles               Json
  updatedAt           DateTime             @updatedAt
  username            String               @unique
  volunteerProfiles   VolunteerProfile[]
}
